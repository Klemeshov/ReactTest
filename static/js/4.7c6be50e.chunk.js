(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[4],{237:function(e,t,a){e.exports={ProfileInfo:"ProfileInfo_ProfileInfo__3sHby",ProfileInfo__avatar:"ProfileInfo_ProfileInfo__avatar__zQMZ1",ProfileInfo__info:"ProfileInfo_ProfileInfo__info__10nFQ",ProfileInfo__Name:"ProfileInfo_ProfileInfo__Name__3Iy7q",ProfileInfo__aboutMe:"ProfileInfo_ProfileInfo__aboutMe__179Q4",Status:"ProfileInfo_Status__1TUFf"}},238:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return u}));var n=a(256),r=a(0),s=a.n(r),o=a(257),l=a.n(o),i=function(e){var t=e.input,a=e.meta,r=Object(n.a)(e,["input","meta"]),o=a.touched&&a.error;return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("textarea",Object.assign({},t,r))),o?s.a.createElement("span",{className:l.a.error},a.error):s.a.createElement(s.a.Fragment,null))},u=function(e){var t=e.input,a=e.meta,r=Object(n.a)(e,["input","meta"]),o=a.touched&&a.error;return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("input",Object.assign({className:o?l.a.errorForm:""},t,r))),o?s.a.createElement("span",{className:l.a.error},a.error):s.a.createElement(s.a.Fragment,null))}},239:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){if(!(e&&e.length>0))return"Field is required"},r=function(e){return function(t){if(!(t.length<=e))return"Max length is ".concat(e," symbols")}}},252:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(17),o=a(20),l=function(e){return{isAuth:e.auth.isAuth}};t.a=function(e){return Object(o.b)(l)(function(e){return function(t){return t.isAuth?r.a.createElement(e,t):r.a.createElement(s.a,{to:"/login"})}}(e))}},253:function(e,t,a){e.exports={Profile:"Profile_Profile__2sQA7",Profile__Info:"Profile_Profile__Info__2_0gC",Profile__Posts:"Profile_Profile__Posts__SILdz"}},254:function(e,t,a){e.exports=a.p+"static/media/avatar.1aaa1e93.jpg"},255:function(e,t,a){e.exports={ProfilePosts:"ProfilePosts_ProfilePosts__1wCHU",Post:"ProfilePosts_Post__KwtUd",Message:"ProfilePosts_Message__2UopD",LikesCount:"ProfilePosts_LikesCount__1YR5-"}},257:function(e,t,a){e.exports={error:"Forms_error__33Lrf",errorForm:"Forms_errorForm__1UNa7"}},298:function(e,t,a){e.exports={Users:"Users_Users__G-28r",Users__text:"Users_Users__text__1A8q9",User:"Users_User__2zzUP",User__button:"Users_User__button__2trRS",Button:"Users_Button__3n1W1",User__info:"Users_User__info__2OtEC",User__name:"Users_User__name__3hBTx",User__status:"Users_User__status__HiKq3",User__location:"Users_User__location__Xl6Ce",Pages:"Users_Pages__3wP1A",Page:"Users_Page__pezw4",currentPage:"Users_currentPage__2LzZU"}},300:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),o=a(24),l=a(25),i=a(27),u=a(26),c=a(28),f=a(253),_=a.n(f),p=a(237),m=a.n(p),d=a(254),P=a.n(d),h=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={editMode:!1,status:a.props.status},a.activateEditMode=function(){a.setState({editMode:!0})},a.deactivateEditMode=function(){a.setState({editMode:!1}),a.props.updateStatus(a.state.status)},a.onStatusChange=function(e){a.setState({status:e.currentTarget.value})},a}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.editMode?r.a.createElement("input",{onChange:this.onStatusChange,value:this.state.status,onBlur:this.deactivateEditMode,onKeyPress:function(t){"Enter"===t.key&&e.deactivateEditMode()},autoFocus:!0}):r.a.createElement("div",{className:m.a.Status,onClick:this.activateEditMode},"Status: ",this.props.status))}}]),t}(r.a.Component),g=function(e){return r.a.createElement("div",{className:m.a.ProfileInfo},r.a.createElement("img",{className:m.a.ProfileInfo__avatar,src:P.a,alt:"avatar"}),r.a.createElement("div",{className:m.a.ProfileInfo__info},r.a.createElement("div",{className:m.a.ProfileInfo__Name},e.profileInfo.fullName),r.a.createElement("div",{className:m.a.ProfileInfo__aboutMe},r.a.createElement(h,{status:e.profileInfo.status,updateStatus:e.updateStatus}),e.profileInfo.location.country,r.a.createElement("br",null),e.profileInfo.location.city,r.a.createElement("br",null))))},E=a(255),U=a.n(E),b=a(116),v=a(115),I=a(238),N=a(239),S=Object(N.a)(100),C=function(e){return r.a.createElement("div",{className:U.a.Post},r.a.createElement("div",{className:U.a.Message},e.message),r.a.createElement("div",{className:U.a.LikesCount},"Likes:",e.likesCount))},j=Object(b.a)({form:"addPost"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(v.a,{component:I.b,name:"Post",validate:[N.b,S],placeholder:"Add post"}),r.a.createElement("button",null,"Add post"))})),O=function(e){return r.a.createElement("div",{className:U.a.ProfilePosts},r.a.createElement(j,{onSubmit:function(t){e.addPost(t.Post)}}),r.a.createElement("div",null,e.posts.map((function(e){return r.a.createElement(C,{message:e.message,likesCount:e.likesCount,key:e.id})}))))},k=function(e){return r.a.createElement("div",{className:_.a.Profile},r.a.createElement(g,{className:_.a.Profile__Info,profileInfo:e.profileInfo,updateStatus:e.updateStatus}),r.a.createElement(O,{className:_.a.Profile__Posts,posts:e.posts,addPost:e.addPost}))},y=a(20),w=a(44),F=a(49),M=a(252),z=a(19),x=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.getProfile(e)}},{key:"componentDidUpdate",value:function(e,t,a){if(e.profileInfo){var n=this.props.match.params.id;n||(n=this.props.id),e.profileInfo._id!==n&&this.props.getProfile(n)}}},{key:"render",value:function(){return this.props.profileInfo?r.a.createElement(k,{profileInfo:this.props.profileInfo,updateStatus:this.props.updateStatus,posts:this.props.posts,addPost:this.props.addPost}):r.a.createElement(F.a,null)}}]),t}(r.a.PureComponent),A=Object(z.d)(Object(y.b)((function(e){return{profileInfo:e.ProfilePage.profileInfo,id:e.auth.id,posts:e.ProfilePage.posts}}),{setProfileInfo:w.d,getProfile:w.c,updateStatus:w.e,addPost:w.a}),s.f,M.a)(x),L=a(298),B=a.n(L),q=a(21),D=function(e){return r.a.createElement("div",{className:B.a.User},r.a.createElement("div",{className:B.a.User__button},e.user.followed?r.a.createElement("button",{className:B.a.Button,onClick:function(){e.onUnfollow(e.user.id)}},"unfollow"):r.a.createElement("button",{className:B.a.Button,onClick:function(){e.onFollow(e.user.id)}},"follow")),r.a.createElement("div",{className:B.a.User__info},r.a.createElement("div",null,r.a.createElement(q.b,{to:"/profile/"+e.user._id},r.a.createElement("div",{className:B.a.User__name},e.user.fullName)),r.a.createElement("div",{className:B.a.User__status},e.user.status)),r.a.createElement("div",{className:B.a.User__location},e.user.location.country+", "+e.user.location.city)))},Q=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),a=[],n=0;n<t;n++)a.push(n);return r.a.createElement("div",{className:B.a.Users},r.a.createElement("div",{className:B.a.Users__text},"Users:"),e.users.map((function(t){return r.a.createElement(D,{key:t._id,user:t,onFollow:e.onFollow,onUnfollow:e.onUnfollow})})),r.a.createElement("div",{className:B.a.Pages},a.map((function(t){return r.a.createElement("span",{key:t+Number(1),className:t===e.currentPage?B.a.currentPage:B.a.Page,onClick:function(){e.changePage(t)}},t+Number(1))}))))},T=a(74),H=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).changePage=function(e){a.props.setCurrentPage(e),a.props.getUsers(e,a.props.pageSize)},a}return Object(c.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(F.a,null):r.a.createElement(Q,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,users:this.props.users,onFollow:this.props.onFollow,onUnfollow:this.props.onUnfollow,currentPage:this.props.currentPage,changePage:this.changePage}))}}]),t}(r.a.Component),K=Object(y.b)((function(e){return{users:e.UsersPage.users,pageSize:e.UsersPage.pageSize,totalUsersCount:e.UsersPage.totalUsersCount,currentPage:e.UsersPage.currentPage,isFetching:e.UsersPage.isFetching}}),{onFollow:T.c,onUnfollow:T.d,setUsers:T.h,setCurrentPage:T.e,setTotalUsersCount:T.g,setFetching:T.f,getUsers:T.b})(H),J=r.a.lazy((function(){return a.e(6).then(a.bind(null,301))})),R=r.a.lazy((function(){return a.e(5).then(a.bind(null,302))}));t.default=function(e){return r.a.createElement("div",null,r.a.createElement(s.b,{path:"/profile/:id?",render:function(){return r.a.createElement(A,null)}}),r.a.createElement(s.b,{path:"/dialogs",render:function(){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(F.a,null)},r.a.createElement(R,null))}}),r.a.createElement(s.b,{path:"/users",render:function(){return r.a.createElement(K,null)}}),r.a.createElement(s.b,{path:"/login",render:function(){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(F.a,null)},r.a.createElement(J,null))}}))}}}]);
//# sourceMappingURL=4.7c6be50e.chunk.js.map