{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/common/Forms/Forms.jsx","validators/validators.js","hoc/withAuthRedirect.jsx","components/Profile/Profile.module.css","assets/img/Profile/avatar.jpg","components/Profile/ProfilePosts/ProfilePosts.module.css","components/common/Forms/Forms.module.css","components/Users/Users.module.css","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/ProfilePosts/ProfilePosts.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Users/Users.jsx","components/Users/UsersContainer.jsx","components/MainContent/MainContent.jsx"],"names":["module","exports","TextArea","input","meta","props","isError","touched","error","className","classes","Input","errorForm","ErrorClassName","required","value","length","maxLength","mapStateToProps","state","isAuth","auth","Component","connect","to","withAuthRedirect","ProfileStatus","editMode","status","activateEditMode","setState","deactivateEditMode","updateStatus","onStatusChange","e","currentTarget","this","onChange","onBlur","onKeyPress","event","key","autoFocus","Status","onClick","React","ProfileInfo","ProfileInfo__avatar","src","avatar","alt","ProfileInfo__info","ProfileInfo__Name","profileInfo","fullName","ProfileInfo__aboutMe","location","country","city","maxLength100","Post","Message","message","LikesCount","likesCount","AddPostForm","reduxForm","form","onSubmit","handleSubmit","Field","component","name","validate","placeholder","ProfilePosts","addPost","posts","map","item","id","Profile","Profile__Info","Profile__Posts","ProfileContainer","match","params","getProfile","prevProps","prevState","snapshot","_id","Preloader","PureComponent","compose","ProfilePage","setProfileInfo","withRouter","User","User__button","user","followed","Button","onUnfollow","onFollow","User__info","User__name","User__status","User__location","Users","pageCount","Math","ceil","totalUsersCount","pageSize","pages","i","push","Users__text","users","u","Pages","page","Number","currentPage","Page","changePage","UsersContainer","setCurrentPage","getUsers","isFetching","UsersPage","setUsers","setTotalUsersCount","setFetching","LoginContainer","lazy","DialogsContainer","MainContent","path","render","Suspense","fallback"],"mappings":"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","file":"static/js/4.cd7bad1e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileInfo\":\"ProfileInfo_ProfileInfo__3sHby\",\"ProfileInfo__avatar\":\"ProfileInfo_ProfileInfo__avatar__zQMZ1\",\"ProfileInfo__info\":\"ProfileInfo_ProfileInfo__info__10nFQ\",\"ProfileInfo__Name\":\"ProfileInfo_ProfileInfo__Name__3Iy7q\",\"ProfileInfo__aboutMe\":\"ProfileInfo_ProfileInfo__aboutMe__179Q4\",\"Status\":\"ProfileInfo_Status__1TUFf\"};","import React from \"react\";\r\nimport classes from \"./Forms.module.css\"\r\n\r\nexport const TextArea = ({input, meta, ...props}) => {\r\n    const isError = meta.touched && meta.error;\r\n    return (\r\n        <div>\r\n            <div>\r\n                <textarea {...input} {...props}/>\r\n            </div>\r\n            {isError ? <span className={classes.error}>\r\n                {meta.error}\r\n            </span> : <></>}\r\n        </div>\r\n    )\r\n};\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const isError = meta.touched && meta.error;\r\n    debugger;\r\n    return (\r\n        <div>\r\n            <div>\r\n                <input{...input} {...props}\r\n                      className={props.className + ' ' + (isError?classes.errorForm:\"\")}/>\r\n            </div>\r\n            {isError ? <span className={classes.error + ' ' + props.ErrorClassName}>\r\n                {meta.error}\r\n            </span> : <></>}\r\n        </div>\r\n    )\r\n};\r\n","export const required = value => {\r\n    if (value && value.length>0) return undefined;\r\n    return \"Field is required\";\r\n};\r\n\r\nexport const maxLength = length => value =>{\r\n    if (value.length <= length) return undefined;\r\n    return `Max length is ${length} symbols`;\r\n};","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst withAuthRedirect = (Component) => {\r\n    return (props) => {\r\n        if (!props.isAuth) return <Redirect to='/login'/>;\r\n        return <Component{...props}/>;\r\n    };\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth:state.auth.isAuth\r\n});\r\nexport default (Component)=>connect(mapStateToProps)(withAuthRedirect(Component));","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Profile\":\"Profile_Profile__2sQA7\",\"Profile__Info\":\"Profile_Profile__Info__2_0gC\",\"Profile__Posts\":\"Profile_Profile__Posts__SILdz\"};","module.exports = __webpack_public_path__ + \"static/media/avatar.1aaa1e93.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfilePosts\":\"ProfilePosts_ProfilePosts__1wCHU\",\"Post\":\"ProfilePosts_Post__KwtUd\",\"Message\":\"ProfilePosts_Message__2UopD\",\"LikesCount\":\"ProfilePosts_LikesCount__1YR5-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Forms_error__33Lrf\",\"errorForm\":\"Forms_errorForm__1UNa7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Users\":\"Users_Users__G-28r\",\"Users__text\":\"Users_Users__text__1A8q9\",\"User\":\"Users_User__2zzUP\",\"User__button\":\"Users_User__button__2trRS\",\"Button\":\"Users_Button__3n1W1\",\"User__info\":\"Users_User__info__2OtEC\",\"User__name\":\"Users_User__name__3hBTx\",\"User__status\":\"Users_User__status__HiKq3\",\"User__location\":\"Users_User__location__Xl6Ce\",\"Pages\":\"Users_Pages__3wP1A\",\"Page\":\"Users_Page__pezw4\",\"currentPage\":\"Users_currentPage__2LzZU\"};","import React from \"react\";\r\nimport classes from \"./ProfileInfo.module.css\"\r\n\r\nclass ProfileStatus extends React.Component {\r\n\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    };\r\n\r\n    activateEditMode = () => {\r\n        this.setState({\r\n            editMode: true\r\n        });\r\n    };\r\n    deactivateEditMode = () => {\r\n        this.setState({\r\n            editMode: false\r\n        });\r\n        this.props.updateStatus(this.state.status);\r\n    };\r\n    onStatusChange = (e) => {\r\n        this.setState({\r\n            status: e.currentTarget.value\r\n        })\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {!this.state.editMode\r\n                    ? <div className={classes.Status}\r\n                           onClick={this.activateEditMode}>\r\n                        Status: {this.props.status}\r\n                    </div>\r\n\r\n                    : <input onChange={this.onStatusChange}\r\n                           value={this.state.status}\r\n                           onBlur={this.deactivateEditMode}\r\n                           onKeyPress={(event) => {\r\n                               if (event.key === \"Enter\")\r\n                                   this.deactivateEditMode()\r\n                           }}\r\n                           autoFocus={true}/>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProfileStatus;","import React from 'react'\r\nimport classes from './ProfileInfo.module.css'\r\nimport avatar from './../../../assets/img/Profile/avatar.jpg'\r\nimport ProfileStatus from './ProfileStatus'\r\n\r\nconst ProfileInfo = (props) => {\r\n    return(\r\n        <div className={classes.ProfileInfo}>\r\n            <img className={classes.ProfileInfo__avatar}\r\n                 src={avatar}\r\n                 alt={'avatar'}/>\r\n            <div className={classes.ProfileInfo__info}>\r\n                <div className={classes.ProfileInfo__Name}>\r\n                    {props.profileInfo.fullName}\r\n                </div>\r\n                <div className={classes.ProfileInfo__aboutMe}>\r\n                    <ProfileStatus status = {props.profileInfo.status} updateStatus = {props.updateStatus}/>\r\n                    {props.profileInfo.location.country}<br/>\r\n                    {props.profileInfo.location.city}<br/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProfileInfo","import React from 'react'\r\nimport classes from './ProfilePosts.module.css'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {TextArea} from \"../../common/Forms/Forms\";\r\nimport {maxLength, required} from \"../../../validators/validators\";\r\n\r\nconst maxLength100 = maxLength(100);\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={classes.Post}>\r\n            <div className={classes.Message}>\r\n                {props.message}\r\n            </div>\r\n            <div className={classes.LikesCount}>\r\n                Likes:{props.likesCount}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst AddPostForm = reduxForm({form: \"addPost\"})((props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field component={TextArea} name=\"Post\" validate={[required, maxLength100]} placeholder=\"Add post\"/>\r\n            <button>Add post</button>\r\n        </form>\r\n    )\r\n});\r\n\r\nconst ProfilePosts = (props) => {\r\n\r\n    let addPost = (value) => {\r\n        props.addPost(value.Post);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.ProfilePosts}>\r\n            <AddPostForm onSubmit={addPost}/>\r\n\r\n            <div>\r\n                {props.posts.map(item =>\r\n                    <Post message={item.message} likesCount={item.likesCount} key={item.id}/>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProfilePosts\r\n","import React from 'react'\r\nimport classes from './Profile.module.css'\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport ProfilePosts from \"./ProfilePosts/ProfilePosts\";\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div className={classes.Profile}>\r\n            <ProfileInfo className={classes.Profile__Info}\r\n                         profileInfo={props.profileInfo}\r\n                         updateStatus={props.updateStatus}/>\r\n            <ProfilePosts className={classes.Profile__Posts}\r\n                          posts={props.posts}\r\n                          addPost={props.addPost}/>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {addPost, getProfile, setProfileInfo, updateStatus} from \"../../redux/profileReducer\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport withAuthRedirect from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.PureComponent {\r\n    componentDidMount() {\r\n        let id = this.props.match.params.id;\r\n        this.props.getProfile(id);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.profileInfo) {\r\n            let id = this.props.match.params.id;\r\n            if (!id) {\r\n                id = this.props.id;\r\n            }\r\n\r\n            if (prevProps.profileInfo._id !== id) {\r\n                this.props.getProfile(id);\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.profileInfo) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <Profile profileInfo={this.props.profileInfo}\r\n                     updateStatus={this.props.updateStatus}\r\n                     posts={this.props.posts}\r\n                     addPost={this.props.addPost}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => (\r\n    {\r\n        profileInfo: state.ProfilePage.profileInfo,\r\n        id: state.auth.id,\r\n\r\n        posts: state.ProfilePage.posts\r\n    }\r\n);\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {setProfileInfo, getProfile, updateStatus, addPost}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)","import React from 'react'\r\nimport classes from './Users.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = (props) => {\r\n    return (\r\n        <div className={classes.User}>\r\n            <div className={classes.User__button}>\r\n                {props.user.followed\r\n                    ? <button className={classes.Button} onClick={() => {\r\n                        (props.onUnfollow(props.user.id))\r\n                    }}>unfollow</button>\r\n                    : <button className={classes.Button} onClick={() => {\r\n                        props.onFollow(props.user.id)\r\n                    }}>follow</button>}\r\n            </div>\r\n            <div className={classes.User__info}>\r\n                <div>\r\n                    <NavLink to={'/profile/' + props.user._id}>\r\n                        <div className={classes.User__name}>{props.user.fullName}</div>\r\n                    </NavLink>\r\n                    <div className={classes.User__status}>{props.user.status}</div>\r\n                </div>\r\n                <div className={classes.User__location}>\r\n                    {props.user.location.country + \", \" + props.user.location.city}\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nlet Users = (props) => {\r\n    let pageCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 0; i < pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    return (\r\n        <div className={classes.Users}>\r\n            <div className={classes.Users__text}>Users:</div>\r\n            {props.users.map(u => {\r\n                return <User key={u._id} user={u} onFollow={props.onFollow}\r\n                             onUnfollow={props.onUnfollow}/>\r\n            })}\r\n            <div className={classes.Pages}>\r\n                {pages.map(page => (\r\n                    <span key = {page+Number(1)} className={page === props.currentPage\r\n                        ? classes.currentPage\r\n                        : classes.Page}\r\n                          onClick={() => {\r\n                              props.changePage(page)\r\n                          }}>\r\n                        {page + Number(1)}\r\n                    </span>))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Users;","import {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport React from \"react\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {\r\n    getUsers,\r\n    onFollow,\r\n    onUnfollow,\r\n    setCurrentPage,\r\n    setFetching,\r\n    setTotalUsersCount,\r\n    setUsers\r\n} from \"../../redux/usersReducer\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    changePage = (page) => {\r\n        this.props.setCurrentPage(page);\r\n        this.props.getUsers(page, this.props.pageSize);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {!this.props.isFetching\r\n                    ? <Users\r\n                        totalUsersCount={this.props.totalUsersCount}\r\n                        pageSize={this.props.pageSize}\r\n                        users={this.props.users}\r\n                        onFollow={this.props.onFollow}\r\n                        onUnfollow={this.props.onUnfollow}\r\n                        currentPage={this.props.currentPage}\r\n                        changePage={this.changePage}/>\r\n                    : <Preloader/>\r\n                }\r\n            </>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => (\r\n    {\r\n        users: state.UsersPage.users,\r\n        pageSize: state.UsersPage.pageSize,\r\n        totalUsersCount: state.UsersPage.totalUsersCount,\r\n        currentPage: state.UsersPage.currentPage,\r\n        isFetching: state.UsersPage.isFetching\r\n    }\r\n);\r\n\r\nexport default connect(mapStateToProps,\r\n    {onFollow, onUnfollow, setUsers, setCurrentPage,\r\n        setTotalUsersCount, setFetching, getUsers}\r\n)(UsersContainer);","import React from \"react\";\r\nimport {Route} from \"react-router-dom\";\r\nimport ProfileContainer from \"../Profile/ProfileContainer\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport UsersContainer from \"../Users/UsersContainer\";\r\n\r\nconst LoginContainer = React.lazy(()=>import(\"../Login/LoginContainer\"));\r\nconst DialogsContainer = React.lazy(() => import(\"./../Dialogs/DialogsContainer\"));\r\n\r\nconst MainContent = (props) => {\r\n    return (\r\n        <div>\r\n            <Route path='/profile/:id?'\r\n                   render={() => <ProfileContainer/>}/>\r\n            <Route path='/dialogs'\r\n                   render={() => (\r\n                       <React.Suspense fallback={<Preloader/>}>\r\n                           <DialogsContainer/>\r\n                       </React.Suspense>\r\n                   )}/>\r\n            <Route path='/users'\r\n                   render={() => <UsersContainer/>}/>\r\n            <Route path='/login'\r\n                   render={() => (\r\n                       <React.Suspense fallback={<Preloader/>}>\r\n                           <LoginContainer/>\r\n                       </React.Suspense>\r\n                   )}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default MainContent"],"sourceRoot":""}